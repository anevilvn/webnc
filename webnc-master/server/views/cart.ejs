<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ hàng</title>
</head>
<body>
    <%- include('partials/header') %>
    <nav class="flex" aria-label="Breadcrumb">
        <ol class="inline-flex items-center space-x-1 ">
            <li class="inline-flex items-center">
                <a href="#" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-500 uppercase">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6.29977 5H21L19 12H7.37671M20 16H8L6 3H3M9 20C9 20.5523 8.55228 21 8 21C7.44772 21 7 20.5523 7 20C7 19.4477 7.44772 19 8 19C8.55228 19 9 19.4477 9 20ZM20 20C20 20.5523 19.5523 21 19 21C18.4477 21 18 20.5523 18 20C18 19.4477 18.4477 19 19 19C19.5523 19 20 19.4477 20 20Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                      Shopping Cart
                </a>
            </li>
            <li class="inline-flex items-center">
                <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                  </svg>
                <a href="#" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-500 uppercase">
                    Checkout details
                </a>
            </li>
        </ol>
    </nav>

    <div class="w-full h-full flex gap-6">
        <div class="w-3/5">
            <div>
                <table class="border">
                    <thead>
                        <tr class="text-xl uppercase text-gray-900 font-mono">
                            <th class="w-3/5 px-4">Sản phẩm</th>
                            <th class="px-4">Giá tiền</th>
                            <th class="px-4">Số lượng</th>
                            <th class="px-4">Đơn giá</th>
                        </tr>
                    </thead>
                    <% if (Array.isArray(cart) && cart.length > 0) { %>
                        <% cart.forEach((product, index) => { %>     
                            <tr>
                                <td class="rounded-sm flex justify-center items-center">
                                    <svg class="w-10 h-10" fill="#000000" viewBox="0 0 32 32" version="1.1" 
                                        xmlns="http://www.w3.org/2000/svg" stroke="#ffffff">
                                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                        <g id="SVGRepo_iconCarrier">
                                            <title>remove</title>
                                            <path d="M11.188 4.781c6.188 0 11.219 5.031 11.219 11.219s-5.031 11.188-11.219 11.188-11.188-5-11.188-11.188 5-11.219 11.188-11.219zM11.25 17.625l3.563 3.594c0.438 0.438 1.156 0.438 1.594 0 0.406-0.406 0.406-1.125 0-1.563l-3.563-3.594 3.563-3.594c0.406-0.438 0.406-1.156 0-1.563-0.438-0.438-1.156-0.438-1.594 0l-3.563 3.594-3.563-3.594c-0.438-0.438-1.156-0.438-1.594 0-0.406 0.406-0.406 1.125 0 1.563l3.563 3.594-3.563 3.594c-0.406 0.438-0.406 1.156 0 1.563 0.438 0.438 1.156 0.438 1.594 0z"></path>
                                        </g>
                                    </svg>
                                    <img src="<%= product.image_url %>" alt="">
                                </td>
                                <td><%= product.price * product.quantity %></td>
                                <td><%= product.quantity %></td>
                                <td><%= product.price %></td>
                            </tr>
                        <% }); %>
                    <% } %>
                    
                </table>
                </table>
                <div class="float-right">
                    <% 
                        let totalPrice = 0;
                        if (Array.isArray(cart) && cart.length > 0) { 
                            totalPrice = cart.reduce((sum, product) => sum + (product.price * product.quantity), 0);
                        }
                    %>

                    <div class="text-xl font-semibold">
                        Tổng tiền: <%= totalPrice.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' }) %>
                    </div>
                    <button class="font-bold text-xl mr-10 rounded shadow-sm" type="button">Thanh Toán </button>
                </div>
            </div>
        </div>
        <div></div>
        
    </div>


</body>
</html>